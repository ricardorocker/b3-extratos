<div
  class="fixed top-0 right-0 w-full sm:w-[480px] h-full bg-[#f4f5f6] z-50 shadow-lg flex flex-col rounded-tl-[24px]"
  *ngIf="aberto"
>
  <div class="flex justify-between items-center px-8 pt-4">
    <button (click)="fecharModal()" class="text-blue-600 font-semibold">
      &larr; Voltar
    </button>
  </div>

  <div class="flex-1 overflow-y-auto p-8 text-sm">
    <div>
      <p class="text-xs text-gray-600">Movimentação</p>
      <h2 class="text-xl font-semibold text-gray-800 mb-4">Filtros</h2>
      <p class="text-[11px] text-gray-500">
        SELECIONE A DATA E OS ITENS QUE DESEJA VISUALIZAR.
      </p>
      <p class="text-[10px] mb-1">Selecione os últimos</p>
      <div class="flex flex-wrap gap-2 mb-4">
        <button
          *ngFor="let dias of periodosDisponiveis"
          (click)="selecionarDias(dias)"
          [class.bg-blue-600]="filtrosSelecionados.diasSelecionados === dias"
          [class.text-white]="filtrosSelecionados.diasSelecionados === dias"
          class="border px-3 py-1 rounded-full"
        >
          {{
            dias === 30
              ? "30 dias"
              : dias === 90
              ? "3 meses"
              : dias === 180
              ? "6 meses"
              : "12 meses"
          }}
        </button>
      </div>
    </div>

    <div class="grid grid-cols-2 gap-4 mb-4">
      <div>
        <label class="block text-xs">Data inicial</label>
        <input
          type="date"
          [(ngModel)]="filtrosSelecionados.dataInicial"
          class="w-full text-xs border px-2 py-1 bg-transparent border-b-blue-300 border-x-0 border-t-0"
        />
      </div>
      <div>
        <label class="block text-xs">Data final</label>
        <input
          type="date"
          [(ngModel)]="filtrosSelecionados.dataFinal"
          class="w-full text-xs border px-2 py-1 bg-transparent border-b-blue-300 border-x-0 border-t-0"
        />
      </div>
    </div>
    <p class="text-[10px] text-gray-500 mb-4">
      Você pode visualizar ou realizar o download a partir de 01/11/2019.
    </p>

    <div class="mb-4">
      <div class="flex justify-between items-center border-b pb-1 mb-2">
        <span class="text-xs text-gray-700 font-semibold uppercase"
          >Tipo de movimentação</span
        >
        <button>
          <svg
            *ngIf="true"
            class="w-4 h-4 text-gray-500"
            fill="none"
            stroke="currentColor"
          >
            <path d="M18 12H6" />
          </svg>
          <svg
            *ngIf="false"
            class="w-4 h-4 text-gray-500"
            fill="none"
            stroke="currentColor"
          >
            <path d="M12 6v12M6 12h12" />
          </svg>
        </button>
      </div>
      <div class="grid grid-cols-2 gap-2 text-xs">
        <label
          *ngFor="let tipo of tiposMovimentacao"
          class="flex items-center gap-2"
        >
          <input
            type="checkbox"
            [checked]="filtrosSelecionados.tiposMovimentacao.includes(tipo)"
            (change)="toggleOpcao(filtrosSelecionados.tiposMovimentacao, tipo)"
          />
          {{ tipo }}
        </label>
      </div>
    </div>

    <div class="mb-4">
      <div class="flex justify-between items-center border-b pb-1 mb-2">
        <span class="text-xs text-gray-700 font-semibold uppercase"
          >Tipo de investimento</span
        >
        <button>
          <svg
            *ngIf="true"
            class="w-4 h-4 text-gray-500"
            fill="none"
            stroke="currentColor"
          >
            <path d="M18 12H6" />
          </svg>
          <svg
            *ngIf="false"
            class="w-4 h-4 text-gray-500"
            fill="none"
            stroke="currentColor"
          >
            <path d="M12 6v12M6 12h12" />
          </svg>
        </button>
      </div>
      <div class="grid grid-cols-2 gap-2 text-xs">
        <label
          *ngFor="let tipo of tiposInvestimento"
          class="flex items-center gap-2"
        >
          <input
            type="checkbox"
            [checked]="filtrosSelecionados.tiposInvestimento.includes(tipo)"
            (change)="toggleOpcao(filtrosSelecionados.tiposInvestimento, tipo)"
          />
          {{ tipo }}
        </label>
      </div>
    </div>

    <div class="mb-4">
      <div class="flex justify-between items-center border-b pb-1 mb-2">
        <span class="text-xs text-gray-700 font-semibold uppercase"
          >Instituição</span
        >
        <button>
          <svg
            *ngIf="true"
            class="w-4 h-4 text-gray-500"
            fill="none"
            stroke="currentColor"
          >
            <path d="M18 12H6" />
          </svg>
          <svg
            *ngIf="false"
            class="w-4 h-4 text-gray-500"
            fill="none"
            stroke="currentColor"
          >
            <path d="M12 6v12M6 12h12" />
          </svg>
        </button>
      </div>
      <div class="grid grid-cols-2 gap-2">
        <label
          *ngFor="let inst of instituicoes"
          class="flex items-center gap-2 text-xs"
        >
          <input
            type="checkbox"
            [checked]="filtrosSelecionados.instituicoes.includes(inst)"
            (change)="toggleOpcao(filtrosSelecionados.instituicoes, inst)"
          />
          {{ inst }}
        </label>
      </div>
    </div>
  </div>

  <div class="border-t bg-white p-4 flex justify-between items-center">
    <button
      (click)="aplicarFiltro()"
      class="bg-blue-600 text-white px-4 py-2 rounded-full text-xs uppercase"
    >
      Filtrar
    </button>
    <button (click)="limparFiltro()" class="text-xs text-blue-600 uppercase">
      Limpar filtro
    </button>
  </div>
</div>
